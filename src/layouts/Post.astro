---
import Base from './Base.astro';
import type { CollectionEntry } from 'astro:content';
import { formatDate } from '../utils';

interface Props {
  post: CollectionEntry<'posts'>;
  category: string;
}

const { post, category } = Astro.props;
const { title, description, date } = post.data;
---

<Base title={title} description={description}>
  <article>
    <header class="post-header">
      <h1>{title}</h1>
      <div class="meta">
        <span class="category">{category}</span>
        <span class="sep">Â·</span>
        <time datetime={date.toISOString()}>{formatDate(date)}</time>
      </div>
    </header>

    <div class="post-content">
      <slot />
    </div>
  </article>
</Base>

<style>
  .post-header {
    margin-bottom: 3rem;
  }

  .post-header h1 {
    margin: 0 0 0.75rem 0;
  }

  .meta {
    font-size: 0.875rem;
    color: var(--muted);
  }

  .category {
    color: var(--muted);
  }

  .sep {
    margin: 0 0.4rem;
  }

  .post-content {
    line-height: 1.7;
  }
</style>
